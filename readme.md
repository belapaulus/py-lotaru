# py-lotaru

This repository contains research code for Lotaru. See:

 - [Lotaru: Locally Estimating Runtimes of Scientific Workflow Tasks in Heterogeneous Clusters](https://arxiv.org/abs/2205.11181)
 - [Lotaru: Locally Predicting Workflow Task Runtimes for Resource Management on Heterogeneous Infrastructures](https://arxiv.org/abs/2309.06918)

## Project Structure

`data/traces` contains task traces from executions of different workflows
and varying input sizes. The directory is structured as
`data/traces/<node>/<workflow>/traces.csv`
The traces are generated by Nextflow and the fields are documented in the
[Nextflow documentation](https://www.nextflow.io/docs/latest/tracing.html#trace-report).

`data/benchmarks` contains records of the node benchmarks.

The main code is in `lotaru`. The cli application and its analysis
scripts are in `lotaru/analysis`

## Using the cli application

For now the cli application can be called via `python -m lotaru` which
prints a general help to get started.

## To-dos

 - document how to add scripts
 - add titles, descriptions, legends to figures
 - add tests
 - try to improve prucio results (feature importance)
 - implement the predictors used as baselines in the papers
 - refactor prediction code that it can be used as a stand-alone program?
